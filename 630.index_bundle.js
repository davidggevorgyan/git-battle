(self.webpackChunkgit_battle=self.webpackChunkgit_battle||[]).push([[630],{630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(934),o=r.n(n),a=r(466),c=r(74),l=r.n(c),s=r(429),i=r(335),u=r(741),f=r(586);function p(e){var t=e.profile;return a.createElement(a.Fragment,null,(0,u.B)(t.followers.toLocaleString(),a.createElement(f.I$,{color:"rgb(255, 215, 0)",size:18}),"followers","User's followers"),t.location&&(0,u.B)(t.location,a.createElement(f.Phk,{color:"rgb(144, 115, 255)",size:18}),"","User's location"),t.company&&(0,u.B)(t.company,a.createElement(f.I8D,{color:"#795548",size:18}),"","User's company"),(0,u.B)(t.following.toLocaleString(),a.createElement(f.wN,{color:"rgb(64, 183, 95)",size:18}),"following","User follows"),(0,u.B)(t.public_repos.toLocaleString(),a.createElement(f.FEF,{color:"rgb(129, 195, 245)",size:18}),"repos","User's public repositories"))}p.propTypes={profile:l().object.isRequired};var h=r(396);function m(e){var t=a.useState(!0),r=o()(t,2),n=r[0],c=r[1],l=a.useState(null),f=o()(l,2),m=f[0],g=f[1],d=a.useState(null),E=o()(d,2),v=E[0],b=E[1],w=a.useState(null),y=o()(w,2),S=y[0],R=y[1];return a.useEffect((function(){var t=new URLSearchParams(e.location.search),r=t.get("playerOne"),n=t.get("playerTwo");(0,i.N)([r,n]).then((function(e){g(e[0]),b(e[1]),c(!1)})).catch((function(e){R(e.message),c(!1)}))}),[]),n?a.createElement(h.Z,null):S?a.createElement("h1",{className:"error"},S):a.createElement("div",{className:"battle-results"},a.createElement("div",{className:"card-list"},a.createElement(u.Z,{header:m.score===v.score?"Tie":"Winner",subheader:"Score: ".concat(m.score.toLocaleString()),avatar:m.profile.avatar_url,href:m.profile.html_url,name:m.profile.login,id:"playerLeft"},a.createElement(p,{profile:m.profile})),a.createElement(u.Z,{header:m.score===v.score?"Tie":"Looser",subheader:"Score: ".concat(v.score.toLocaleString()),avatar:v.profile.avatar_url,href:v.profile.html_url,name:v.profile.login,id:"playerRight"},a.createElement(p,{profile:v.profile}))),a.createElement(s.rU,{to:"/battle"},a.createElement("button",null,"Reset")))}m.propTypes={location:l().shape({search:l().string.isRequired})}},741:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f,B:()=>p});var n=r(466),o=r(74),a=r.n(o),c=r(221),l=r.n(c),s=r(934),i=r.n(s);function u(e){var t=e.text,r=e.children,o=function(){var e=n.useState(!1),t=i()(e,2),r=t[0],o=t[1];return[r,{onMouseOut:function(){return o(!1)},onMouseOver:function(){return o(!0)}}]}(),a=i()(o,2),c=a[0],s=a[1];return n.createElement("div",l()({},s,{className:"container"}),c&&n.createElement("div",{role:"tooltip",className:"tooltip"},t),r)}function f(e){var t=e.header,r=e.subheader,o=e.avatar,a=e.href,c=e.name,l=e.children;return n.createElement("li",{className:"gray-bg card"},n.createElement("h2",null,t),n.createElement("img",{src:o,alt:"avatar for ".concat(c)}),r&&n.createElement("h4",null,r.toLocaleString()),n.createElement("h3",null,n.createElement("a",{href:a}," ",c)),l)}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0;return o?n.createElement(u,{text:o},n.createElement("h5",null,t," ","".concat(e," ").concat(r)," ")):n.createElement("h5",null,t," ","".concat(e," ").concat(r)," ")}u.propTypes={children:a().node,text:a().string.isRequired},f.propTypes={header:a().string.isRequired,subheader:a().string,avatar:a().string.isRequired,href:a().string.isRequired,name:a().string.isRequired,children:a().node}},335:(e,t,r)=>{"use strict";r.d(t,{n:()=>c,N:()=>u});var n=r(934),o=r.n(n);function a(e,t){return"Not found"===e?"".concat(t," doesn't exist"):e}function c(e){var t=window.encodeURI("https://api.github.com/search/repositories?q=stars:>1+language:".concat(e,"&sort=stars&order=desc&type=Repositories"));return fetch(t).then((function(e){return e.json()})).then((function(t){if(!t.items)throw new Error(a(t.message,e));return t.items}))}function l(e){return fetch("https://api.github.com/users/".concat(e,"/repos?per_page=100")).then((function(e){return e.json()})).then((function(t){if(t.message)throw new Error("".concat(a(t.message),": Can't get ").concat(e," repos"));return t}))}function s(e,t){return 3*e+function(e){return e.reduce((function(e,t){return e+t.stargazers_count}),0)}(t)}function i(e){return Promise.all([(t=e,fetch("https://api.github.com/users/".concat(t)).then((function(e){return e.json()})).then((function(e){if(e.message)throw new Error("Can't get ".concat(t," profile"));return e}))),l(e)]).then((function(e){var t=o()(e,2),r=t[0],n=t[1];return{profile:r,score:s(r.followers,n)}}));var t}function u(e){return Promise.all([i(e[0]),i(e[1])]).then((function(e){return function(e){return e.sort((function(e,t){return t.score-e.score}))}(e)}))}},221:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}e.exports=t}}]);